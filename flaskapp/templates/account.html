{% extends "layout.html" %}
{% block content %}
<style>
/* Account Page Styles */
.account-page {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  color: #000000;
}

/* Header Section */
.account-header {
  background: linear-gradient(135deg, #004b87, #0074d9);
  color: white;
  text-align: center;
  padding: 3rem 1rem;
  border-radius: 8px;
  font-size: 2rem;
}

.account-header .user-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  color: black;
}

.account-header .account-img {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  margin-bottom: 1rem;
}

.account-header .account-heading {
  font-size: 3rem;
  margin-bottom: 0.5rem;
  color: black;

}

.account-header .text-secondary {
  margin: 0.2rem 0;
}

/* Form Section */
.account-form-section {
  margin-top: 2rem;
  padding: 2rem 1rem;
}

.account-form-section .container {
  max-width: 600px;
  margin: 0 auto;
  background: #f9f9f9;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.form-title {
  margin-bottom: 1.5rem;
  color: #004b87;
  text-align: center;
}

.form-group {
  margin-bottom: 1.5rem;
}

.form-control {
  padding: 0.8rem;
  font-size: 1rem;
  border: 1px solid #000000;
  border-radius: 4px;
}

.form-control:focus {
  outline: none;
  border-color: #0074d9;
  box-shadow: 0 0 5px rgba(0, 116, 217, 0.5);
}

.btn-primary {
  background-color: #0074d9;
  color: white;
  padding: 0.8rem 1.5rem;
  font-size: 1rem;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.btn-primary:hover {
  background-color: #005fa3;
}

.invalid-feedback {
  color: #dc3545;
  font-size: 0.9rem;
}


</style>
<div class="account-page">
    <!-- User Info Section -->
    <header class="account-header">
        <div class="container">
            <div class="user-info">
                <img class="rounded-circle account-img" src="{{ image_file }}" alt="Profile Picture">
                <h2 class="account-heading">{{ current_user.username }}</h2>
                <h4 class="">{{ current_user.role }}</h4>
                <p class="">{{ current_user.email }}</p>
            </div>
        </div>
    </header>

    <!-- Account Form Section -->
    <main class="account-form-section">
        <div class="container">
            <form action="" method="POST" enctype="multipart/form-data">
                {{ form.hidden_tag() }}
                <fieldset class="form-group">
                    <legend class="form-title">Account Info</legend>
                    
                    <!-- Username Field -->
                    <div class="form-group">
                        {{ form.username.label(class="form-control-label") }}
                        {% if form.username.errors %}
                            {{ form.username(class="form-control is-invalid") }}
                            <div class="invalid-feedback">
                                {% for error in form.username.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.username(class="form-control") }}
                        {% endif %}
                    </div>

                    <!-- Email Field -->
                    <div class="form-group">
                        {{ form.email.label(class="form-control-label") }}
                        {% if form.email.errors %}
                            {{ form.email(class="form-control is-invalid") }}
                            <div class="invalid-feedback">
                                {% for error in form.email.errors %}
                                    <span>{{ error }}</span>
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form.email(class="form-control") }}
                        {% endif %}
                    </div>

                    <!-- Picture Upload Field -->
                    <div class="form-group">
                        {{ form.picture.label() }}
                        {{ form.picture(class="form-control-file") }}
                        {% if form.picture.errors %}
                            {% for error in form.picture.errors %}
                                <span class="text-danger">{{ error }}</span><br>
                            {% endfor %}
                        {% endif %}
                    </div>
                </fieldset>
                
                <!-- Submit Button -->
                <div class="form-group text-center">
                    {{ form.submit(class="btn btn-primary btn-lg") }}
                </div>
            </form>
        </div>
    </main>
</div>
{% endblock content %}
